<section class="filter-block">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12">
                <div class="container-filter">
                    <h3><img src="/img/seta-baixo.svg" alt=""> Filter Peoples</h3>
                    <div class="filter-result">
			<form id="filter-form" action="/people">
			    <input type="hidden" name="filter[fields]" id="filter-fields" />
			    <input type="hidden" name="filter[operators]" id="filter-operators" />
			    <input type="hidden" name="filter[values]" id="filter-values" />
			</form>

                        <div class="filter-complete">
			    <% if params[:filter] %>
				<% params[:filter][:fields].split(',').size.times.each_with_index do |index, _| %>
				    <div class="item-filter">
					<ul>
					    <li class="primary-nivel-filter"><button></button></li>
					    <li class="primary-nivel-filter-secondary"><button><%= params[:filter][:fields].split(',')[index] %> </button></li>
					    <li class="second-nivel-filter">
						<div class="btn-group bootstrap-select">
						    <button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" role="button" title="equal">
							<span class="filter-option pull-left">equal</span>&nbsp;
							<span class="bs-caret"><span class="caret"></span></span>
						    </button>
						    <div class="dropdown-menu open" role="combobox">
							<ul class="dropdown-menu inner" role="listbox" aria-expanded="false">
							    <li data-original-index="0" class="selected">
								<a tabindex="0" class="" data-tokens="null" role="option" aria-disabled="false" aria-selected="true">
								    <span class="text"><%= params[:filter][:operators].split(',')[index] %></span>
								    <span class="glyphicon glyphicon-ok check-mark"></span>
								</a>
							    </li>
							</ul>
						    </div>
						</div>
					    </li>
					    <li class="last-nivel-filter"><input type="text" placeholder="<%= params[:filter][:values].split(',')[index] %>" value="<%= params[:filter][:values].split(',')[index] %>"></li>
					</ul>
					<div class="button btn-remove-filter"><img src="/img/img-close-filter.png" alt=""></div>
				    </div>
				<% end %>
				<script>
				 window.onload = function() {
				     $(".filter-result").show();
				 };
				</script>
			    <% end %>
			</div>
                        <button class="add-new-filter"><img src="/img/img-new-filter.svg" alt="" data-toggle="modal" data-target="#modalFilter"></button>
                        <button class="btn-app-filter">Apply Filter</button>
                    </div>
                    <div class="filter-empty">
			<% unless params[:filter] %>
                            <a href="#" class="btn-add-filter-modal" data-toggle="modal" data-target="#modalFilter"><img src="/img/add.svg" alt=""> Add filter people</a>
			<% end %>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div id="modalFilter" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <h1 class="modal-title">Add Filter</h1>
            <div class="modal-header">
                <div class="control-breadcrumbs">
                    <div class="controls">
                        <button class="arrow-left disabled">
                            <img src="/img/seta-esq-modal-filter.svg" alt="">
                        </button>
                        <button class="arrow-right disabled">
                            <img src="/img/seta-dir-modal-filter.svg" alt="">
                        </button>
                    </div>
                    <ul class="bread">
                        <li class="one-category"></li>
                        <li class="two-category"></li>
                        <li class="three-category"></li>
                        <li class="last-category"></li>
                    </ul>
                </div>
            </div>
            <div class="modal-body">
                <div class="filter-geral">
                    <div class="level-filter main-category">
                        <ul>
                            <li>
                                <a href="">
                                    Peoples
                                    <i class="glyphicon glyphicon-chevron-right"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="level-filter sub-category">
                        <ul>
                            <li><a href="">Basic Info<i class="glyphicon glyphicon-chevron-right"></i></a></li>
                        </ul>
                    </div>
                    <div class="level-filter last-sub-category">
                        <ul>
                            <li><a href="">Name <i class="glyphicon glyphicon-chevron-right"></i></a></li>
                            <li><a href="">Description <i class="glyphicon glyphicon-chevron-right"></i></a></li>
                            <li><a href="">Gender <i class="glyphicon glyphicon-chevron-right"></i></a></li>
                            <li><a href="">Occupation <i class="glyphicon glyphicon-chevron-right"></i></a></li>
                            <li><a href="">Website <i class="glyphicon glyphicon-chevron-right"></i></a></li>
                        </ul>
                    </div>
                    <div class="level-filter last-level-filter">
                        <ul>
                            <li><a href="">equal</a></li>
                            <li><a href="">contains</a></li>
                            <li><a href="">greater than</a></li>
                            <li><a href="">less than</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
